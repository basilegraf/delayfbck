#N canvas 60 220 1717 858 10;
#X text 123 644 audio output;
#N canvas 0 50 450 250 (subpatch) 0;
#X array DelayLineOut 500 float 3;
#A 0 0.0010403 0.0010954 0.00115061 0.00120573 0.0012608 0.00131604
0.00137122 0.00142629 0.00148168 0.00153708 0.00159265 0.00164805 0.00170386
0.00175972 0.00181593 0.00187208 0.00192869 0.00198532 0.00204246 0.00209962
0.00215701 0.00221484 0.00227304 0.00233131 0.00239028 0.00244936 0.00250891
0.00256879 0.0026291 0.00268966 0.002751 0.00281245 0.00287452 0.00293722
0.0030003 0.00306377 0.00312781 0.0031924 0.00325748 0.00332321 0.00338951
0.00345653 0.00352393 0.00359182 0.00366056 0.00373001 0.00379977 0.0038704
0.00394172 0.00401356 0.00408619 0.00415942 0.0042335 0.00430822 0.00438358
0.00445982 0.0045367 0.00461421 0.00469255 0.00477171 0.0048514 0.00493207
0.00501342 0.00509563 0.00517866 0.00526242 0.00534686 0.00543214 0.00551818
0.00560513 0.00569293 0.00578147 0.00587067 0.00596091 0.00605186 0.00614343
0.00623599 0.00632945 0.00642371 0.00651867 0.00661449 0.00671105 0.0068085
0.00690676 0.00700572 0.00710554 0.00720614 0.00730766 0.0074098 0.00751294
0.00761679 0.00772127 0.00782656 0.00793285 0.00803959 0.00814723 0.0082555
0.00836458 0.00847447 0.00858515 0.00869638 0.00880839 0.00892095 0.00903432
0.00914841 0.00926314 0.00937855 0.00949447 0.00961119 0.00972846 0.00984635
0.00996485 0.0100839 0.0102035 0.0103236 0.0104444 0.0105657 0.0106874
0.0108097 0.0109325 0.0110557 0.0111794 0.0113035 0.011428 0.011553
0.0116784 0.011804 0.01193 0.0120564 0.0121831 0.0123101 0.0124374
0.0125648 0.0126926 0.0128206 0.0129487 0.013077 0.0132054 0.0133341
0.0134628 0.0135915 0.0137205 0.0138494 0.0139784 0.0141073 0.0142361
0.014365 0.0144938 0.0146225 0.014751 0.0148795 0.0150077 0.0151358
0.0152636 0.0153911 0.0155185 0.0156456 0.0157723 0.0158985 0.0160245
0.0161501 0.0162754 0.0164 0.0165243 0.016648 0.0167712 0.0168939 0.0170159
0.0171374 0.0172581 0.0173783 0.0174977 0.0176164 0.0177343 0.0178515
0.0179679 0.0180835 0.0181981 0.0183119 0.0184248 0.0185367 0.0186476
0.0187576 0.0188665 0.0189743 0.0190811 0.0191868 0.0192913 0.0193946
0.0194967 0.0195976 0.0196973 0.0197956 0.0198926 0.0199883 0.0200827
0.0201756 0.0202671 0.0203571 0.0204457 0.0205328 0.0206183 0.0207023
0.0207846 0.0208654 0.0209445 0.0210219 0.0210977 0.0211717 0.021244
0.0213145 0.0213832 0.02145 0.021515 0.0215782 0.0216394 0.0216987
0.021756 0.0218114 0.0218648 0.0219161 0.0219654 0.0220126 0.0220577
0.0221007 0.0221416 0.0221803 0.0222168 0.0222511 0.0222831 0.0223129
0.0223404 0.0223657 0.0223886 0.0224092 0.0224274 0.0224433 0.0224567
0.0224678 0.0224764 0.0224826 0.0224863 0.0224875 0.0224862 0.0224824
0.0224761 0.0224672 0.0224557 0.0224417 0.0224251 0.0224059 0.022384
0.0223595 0.0223324 0.0223026 0.0222701 0.0222349 0.022197 0.0221565
0.0221132 0.0220672 0.0220184 0.0219669 0.0219127 0.0218557 0.0217959
0.0217333 0.021668 0.0215998 0.0215289 0.0214552 0.0213786 0.0212993
0.0212171 0.0211321 0.0210443 0.0209537 0.0208603 0.020764 0.0206649
0.0205631 0.0204583 0.0203507 0.0202403 0.020127 0.0200111 0.0198923
0.0197706 0.0196462 0.0195188 0.0193888 0.0192559 0.0191202 0.0189818
0.0188406 0.0186967 0.0185499 0.0184005 0.0182482 0.0180933 0.0179357
0.0177752 0.0176122 0.0174465 0.017278 0.017107 0.0169332 0.0167569
0.0165779 0.0163963 0.0162122 0.0160255 0.0158362 0.0156444 0.0154499
0.0152531 0.0150538 0.014852 0.0146478 0.0144412 0.0142322 0.0140206
0.0138069 0.0135908 0.0133723 0.0131516 0.0129286 0.0127034 0.012476
0.0122464 0.0120145 0.0117807 0.0115446 0.0113063 0.0110661 0.0108239
0.0105798 0.0103336 0.0100854 0.00983543 0.00958354 0.00932967 0.00907399
0.00881666 0.00855757 0.00829655 0.00803414 0.00776989 0.00750401 0.00723648
0.00696769 0.00669704 0.0064251 0.00615169 0.00587682 0.00560047 0.00532309
0.00504408 0.00476405 0.00448258 0.00419996 0.00391641 0.00363142 0.00334563
0.00305868 0.00277088 0.0024818 0.00219217 0.00190145 0.00161004 0.00131758
0.00102463 0.000730974 0.000436614 0.000141496 -0.000154233 -0.000450231
-0.000746908 -0.00104401 -0.00134156 -0.00163939 -0.00193762 -0.00223615
-0.00253471 -0.00283354 -0.0031327 -0.0034318 -0.00373098 -0.00403018
-0.00432938 -0.00462839 -0.00492753 -0.0052262 -0.00552481 -0.00582311
-0.00612111 -0.00641888 -0.00671607 -0.00701282 -0.00730935 -0.00760495
-0.00790016 -0.00819485 -0.00848869 -0.00878188 -0.00907443 -0.00936591
-0.00965664 -0.00994655 -0.0102353 -0.0105233 -0.0108101 -0.0110959
-0.0113805 -0.0116641 -0.0119463 -0.0122271 -0.0125067 -0.0127851 -0.013062
-0.0133373 -0.0136112 -0.0138837 -0.0141544 -0.0144236 -0.014691 -0.0149567
-0.0152208 -0.0154828 -0.0157432 -0.0160016 -0.0162581 -0.0165126 -0.016765
-0.0170154 -0.0172637 -0.0175098 -0.0177537 -0.0179954 -0.0182348 -0.0184719
-0.0187066 -0.0189389 -0.0191688 -0.0193961 -0.019621 -0.0198433 -0.020063
-0.02028 -0.0204943 -0.020706 -0.020915 -0.0211211 -0.0213243 -0.0215247
-0.0217222 -0.0219167 -0.0221083 -0.0222969 -0.0224823 -0.0226648 -0.0228441
-0.0230202 -0.0231932 -0.0233631 -0.0235296 -0.0236928 -0.0238528 -0.0240093
-0.0241626 -0.0243124 -0.0244588 -0.0246017 -0.0247411 -0.0248771 -0.0250095
-0.0251383 -0.0252635 -0.0253851 -0.0255031 -0.0256173 -0.0257279 -0.0258348
-0.0259379 -0.0260372 -0.0261328 -0.0262246 -0.0263125 -0.0263965 -0.0264767
-0.026553 -0.0266254 -0.0266939 -0.0267584 -0.0268189 -0.0268755 -0.0269281
-0.0269766 -0.0270211 -0.0270616;
#X coords 0 1 500 -1 200 140 1 0 0;
#X restore 343 657 graph;
#X obj 33 257 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 97 59 noise~;
#X obj 97 154 *~;
#X obj 141 122 line~;
#X msg 141 61 0.1 100;
#X msg 147 93 0 100;
#X text 197 59 on;
#X obj 147 549 *~;
#X obj 171 521 line~;
#X msg 190 490 0 100;
#X text 242 453 on;
#X text 239 489 off;
#X text 228 518 envelope;
#X text 228 531 generator;
#X text 155 433 amplitude controls:;
#X obj 147 549 *~;
#X obj 171 521 line~;
#X msg 190 490 0 100;
#X text 242 453 on;
#X text 239 489 off;
#X text 228 518 envelope;
#X text 228 531 generator;
#X text 155 433 amplitude controls:;
#X obj 287 60 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#N canvas 379 254 494 344 META 0;
#X text 12 165 HELP_PATCH_AUTHORS "pd meta" information added by Jonathan
Wilkes for Pd version 0.42.;
#X text 12 45 DESCRIPTION exponential attack/decay envelope;
#X text 12 5 KEYWORDS signal ramp;
#X text 12 85 INLET_1 float;
#X text 12 65 INLET_0 bang;
#X text 12 105 INLET_2 float;
#X text 12 125 OUTLET_0 signal;
#X text 12 25 LICENSE GPL v2;
#X text 12 145 AUTHOR Tom Schouten <tom@zwizwa.be>;
#X restore 7 33 pd META;
#X obj 246 86 creb;
#X obj 167 192 receive delaypar;
#X floatatom 850 336 5 1 1000 0 - - -, f 5;
#X floatatom 644 341 5 1 10000 0 - - -, f 5;
#X obj 1180 241 mtof;
#X floatatom 1180 208 5 0 0 0 - - -, f 5;
#X floatatom 1216 278 7 0 0 0 - - -, f 7;
#X msg 1141 260 1;
#X obj 1147 292 /;
#X floatatom 1220 315 8 0 1 0 - - -, f 8;
#X obj 1140 234 bang;
#X obj 34 229 metro 150;
#X msg 1179 183 30;
#X obj 396 344 *~;
#X obj 409 259 line~;
#X msg 425 231 0 100;
#X obj 397 179 osc~ 100;
#X msg 409 106 30;
#X floatatom 409 129 5 0 0 0 - - -, f 5;
#X obj 409 151 mtof;
#X obj 176 621 dac~ 2;
#X obj 125 620 dac~ 1;
#X msg 411 208 0.05 100;
#N canvas 0 50 450 250 (subpatch) 0;
#X array EnvelopeAmplitude 500 float 3;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 1 500 0 200 140 1 0 0;
#X restore 591 657 graph;
#X msg 187 456 0.1 100;
#X obj 848 262 loadbang;
#X obj 1179 158 loadbang;
#X obj 406 79 loadbang;
#X obj 34 201 loadbang;
#X obj 836 633 loadbang;
#X obj 1129 650 loadbang;
#X obj 644 267 loadbang;
#X msg 644 316 500;
#X text 193 92 off;
#X text 125 32 NOISE;
#X text 394 35 DELAY LENGTH MODULATION;
#X obj 287 91 ead~ 3 3;
#X text 265 30 PULSE;
#X text 1313 720 No control;
#X obj 309 395 tabwrite~ EnvelopeAmplitude;
#X msg 644 364 \; delaypar filter 0 lp1 \$1 0.1;
#X msg 850 360 \; delaypar filter 1 hp1 \$1 0.1;
#X msg 644 421 \; delaypar filter 0 lp1 300 0.1 \, filter 1 hp1 10
0.1;
#X msg 1130 676 \; delaypar ampctrl 5 0.4 10 100 1.2;
#X msg 1129 713 \; delaypar ampctrl 0 0 0 0 0;
#X msg 1128 754 \; delaypar ampctrl 5 0.1 1 10 1;
#X msg 1128 793 \; delaypar ampctrl 5 0.2 1 5 1;
#X obj 221 283 delayfbck~ 2;
#X floatatom 468 539 5 0 0 0 - - -, f 5;
#X floatatom 532 541 5 0 0 0 - - -, f 5;
#X text 461 561 pitch;
#X text 509 560 envelope;
#X obj 465 492 sigmund~ -npts 8192 -hop 2048 pitch env;
#X msg 1228 183 1;
#X msg 1135 183 36;
#X msg 1095 183 40;
#X text 646 62 FILTERS;
#X text 646 78 command: filter 'num' 'type' 'arg1' ... 'argn' 'rampTime'
;
#X text 653 96 filter 'num' lp1 'f' 'rampTime' (1st order lp);
#X text 652 111 filter 'num' hp1 'f' 'rampTime' (1st order hp);
#X text 652 126 filter 'num' lp2 'f' 'z' 'rampTime' (2nd order lp)
;
#X text 652 142 filter 'num' hp2 'f' 'z' 'rampTime' (2nd order hp)
;
#X text 652 158 filter 'num' n 'f' 'g' 'b' 'rampTime' (notch);
#X text 651 196 type: lp1 \, hp1 \, lp2 \, lp2 \, n;
#X text 653 210 argi: 'f' (frequency) \, 'z' (damping) \, 'g' (gain)
\, 'b' (bandwidth);
#X text 653 239 rampTime: Smooth change if last filter was of same
type;
#X text 1076 27 DELAY LENGTH;
#X text 1076 42 command: delay 'len' 'rampTime' 'pitchCorrect';
#X text 1082 60 len: delay length in seconds;
#X text 1083 76 rampTime: Smooth change [s];
#X text 766 525 SATURATING NONLINEARITY;
#X text 772 561 type: See examples below;
#X text 773 576 gain: small signal gain;
#X text 1120 506 PI AMPLITUDE CONTROLLER;
#X text 1119 523 command: ampctrl 'lpFreq' 'ampl' 'P' 'I' 'sat';
#X text 1127 542 lpFreq: amplitude follower lowpass freq;
#X text 1128 556 ampl: amplitude reference;
#X text 1128 571 P: proportional gain;
#X text 1127 588 I: integral gain;
#X text 1125 603 sat: integrator saturation value;
#X text 1083 92 pitchCorrect: 0: No correction;
#X text 21 700 command: pluck 'ampl' 'pos';
#X text 30 716 ampl: pluck amplitude;
#X text 30 731 pos: pluck position alow string \, 0.0<pos<1.0;
#X text 21 684 PLUCK STRING (Karplus-Strong);
#X text 653 182 num: filter number 0 ... 4;
#X text 1426 253 <-- first argument \, number of voices \; second argument
selects voice stealing;
#X obj 1328 279 pack 0 0 0;
#X obj 1328 305 print;
#X text 1373 304 Output is in the printout window.;
#X obj 1323 170 notein;
#X obj 1323 209 poly 1 1;
#X floatatom 1487 435 5 0 0 0 - - -, f 5;
#X obj 1488 398 / 500;
#X floatatom 1590 363 0 0 0 0 - - -;
#X floatatom 1544 363 0 0 0 0 - - -;
#X obj 1544 336 touchin;
#X msg 1454 537 \; delaypar ampctrl 5 \$1 1 10 1.2;
#X obj 117 549 *~;
#X obj 117 549 *~;
#X msg 644 392 \; delaypar filter 0 lp1 1000 0.1 \, filter 1 hp1 10
0.1;
#X msg 850 311 10;
#X obj 120 397 tabwrite~ DelayLineOut;
#X obj 849 289 delay 1000;
#X obj 644 295 delay 1000;
#X floatatom 589 293 5 20 120 0 - - -, f 5;
#X msg 589 266 60;
#X obj 589 317 mtof;
#X msg 836 703 \; delaypar nonlin asymmetric_sat 1.3 1 0.01;
#X msg 833 747 \; delaypar nonlin symmetric_sigmoid 1.3 1 0.01;
#X msg 832 791 \; delaypar nonlin asymmetric_sigmoid 1.3 1 0.01;
#X msg 836 664 \; delaypar nonlin symmetric_sat 1 1 0.01;
#X text 773 592 sat: saturation value (positive only if asymmetric)
;
#X text 766 541 command: nonlin 'type' 'gain' 'sat' 'rampTime';
#X text 773 607 rampTime: smooth change [s];
#X text 1083 124 amplCorrect : 0: No correction;
#X text 1167 139 1: correction based on filters magnitude;
#X text 1167 107 1: correction based on filters phase;
#X msg 18 755 \; delaypar nonlin symmetric_sat 1 1 \; delaypar pluck
0.5 0.2;
#X msg 1440 703 \; delaypar nonlin symmetric_sat 0.98 1 \; delaypar
pluck 0.5 0.2;
#X msg 1144 342 \; delaypar delay \$1 0.01 1 0;
#X connect 2 0 66 0;
#X connect 2 0 129 0;
#X connect 3 0 4 0;
#X connect 4 0 74 0;
#X connect 5 0 4 1;
#X connect 6 0 5 0;
#X connect 7 0 5 0;
#X connect 9 0 47 0;
#X connect 10 0 9 1;
#X connect 10 0 125 1;
#X connect 11 0 10 0;
#X connect 18 0 17 1;
#X connect 19 0 18 0;
#X connect 25 0 63 0;
#X connect 28 0 74 0;
#X connect 29 0 68 0;
#X connect 30 0 67 0;
#X connect 31 0 33 0;
#X connect 31 0 35 1;
#X connect 32 0 31 0;
#X connect 32 0 37 0;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 35 0 147 0;
#X connect 37 0 34 0;
#X connect 38 0 2 0;
#X connect 39 0 32 0;
#X connect 40 0 74 1;
#X connect 41 0 40 1;
#X connect 42 0 41 0;
#X connect 43 0 40 0;
#X connect 44 0 45 0;
#X connect 45 0 46 0;
#X connect 46 0 43 0;
#X connect 49 0 41 0;
#X connect 51 0 10 0;
#X connect 52 0 130 0;
#X connect 53 0 39 0;
#X connect 54 0 44 0;
#X connect 55 0 38 0;
#X connect 56 0 138 0;
#X connect 57 0 70 0;
#X connect 58 0 131 0;
#X connect 59 0 30 0;
#X connect 63 0 74 0;
#X connect 74 0 9 0;
#X connect 74 0 79 0;
#X connect 74 0 129 0;
#X connect 74 0 125 0;
#X connect 74 1 66 0;
#X connect 79 0 75 0;
#X connect 79 1 76 0;
#X connect 80 0 32 0;
#X connect 81 0 32 0;
#X connect 82 0 32 0;
#X connect 114 0 115 0;
#X connect 117 0 118 0;
#X connect 117 1 118 1;
#X connect 118 0 114 0;
#X connect 118 1 114 1;
#X connect 118 1 32 0;
#X connect 118 2 114 2;
#X connect 118 2 120 0;
#X connect 120 0 119 0;
#X connect 122 0 120 0;
#X connect 123 0 122 0;
#X connect 123 1 121 0;
#X connect 125 0 48 0;
#X connect 128 0 29 0;
#X connect 130 0 128 0;
#X connect 131 0 59 0;
#X connect 132 0 134 0;
#X connect 133 0 132 0;
#X connect 134 0 30 0;
